<!doctype html> <html lang=en  class=has-navbar-fixed-top > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="https://jso-preview.netlify.app/previews/PR203//libs/katex/katex.min.css"> <link rel=stylesheet  href="/previews/PR203/libs/highlight/github.min.css"> <link rel=stylesheet  href="https://jso-preview.netlify.app/previews/PR203//css/styles.css"> <style> html {font-size: 17px;} .franklin-content {position: relative; padding-left: 8%; padding-right: 5%; line-height: 1.35em;} @media (min-width: 940px) { .franklin-content {width: 100%; margin-left: auto; margin-right: auto;} } @media (max-width: 768px) { .franklin-content {padding-left: 6%; padding-right: 6%;} } </style> <link rel=icon  href="https://jso-preview.netlify.app/previews/PR203//assets/favicon.png"> <title>New publication about PDENLPModels.jl</title> <script src="/previews/PR203/libs/highlight/highlight.pack.js"></script> <script src="https://unpkg.com/clipboard@2/dist/clipboard.min.js"></script> <script type=module  src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script> <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script> <script> hljs.getLanguage('julia').keywords.custom = 'obj grad hess AbstractNLPModel'; </script> <nav class="navbar is-primary is-fixed-top" role=navigation  aria-label="main navigation"> <div class=navbar-brand > <a class=navbar-item  href="https://jso-preview.netlify.app/previews/PR203/"> <img src="https://jso-preview.netlify.app/previews/PR203//assets/jso.png"> </a> <a role=button  class=navbar-burger  aria-label=menu  aria-expanded=false  data-target=navbarBasicExample > <span aria-hidden=true ></span> <span aria-hidden=true ></span> <span aria-hidden=true ></span> </a> </div> <div id=navbarBasicExample  class=navbar-menu > <div class=navbar-start > <a class=navbar-item  href="https://jso-preview.netlify.app/previews/PR203//"> Home </a> <a class=navbar-item  href="https://jso-preview.netlify.app/previews/PR203//news-and-blogposts/"> News and Blogposts </a> <a class=navbar-item  href="https://jso-preview.netlify.app/previews/PR203//tutorials/"> Tutorials </a> <div class="navbar-item has-dropdown is-hoverable"> <a class=navbar-link  href="https://jso-preview.netlify.app/previews/PR203//ecosystems/index.html"> Ecosystems </a> <div class=navbar-dropdown > <a class=navbar-item  href="https://jso-preview.netlify.app/previews/PR203//ecosystems/linear-algebra/"> Linear Algebra </a> <a class=navbar-item  href="https://jso-preview.netlify.app/previews/PR203//ecosystems/models/"> Models </a> <a class=navbar-item  href="https://jso-preview.netlify.app/previews/PR203//ecosystems/solvers/"> Solvers </a> </div> </div> <a class=navbar-item  href="https://jso-preview.netlify.app/previews/PR203//references/"> References </a> <a class=navbar-item  href="https://jso-preview.netlify.app/previews/PR203//contributing/"> Contributing </a> </div> <div class=navbar-end > <a class="navbar-item icon-text" href="https://github.com/JuliaSmoothOptimizers/juliasmoothoptimizers.github.io/issues"> <span class=icon > <ion-icon size=large  name=logo-github ></ion-icon> </span> <span>Report an issue</span> </a> </div> </div> </nav> <section class=section > <div class=container > <div class=content > <div class=franklin-content ><h1 id=new_publication_about_pdenlpmodelsjl ><a href="#new_publication_about_pdenlpmodelsjl" class=header-anchor >New publication about PDENLPModels.jl</a></h1> <p>We are very happy to announce the publication in the Journal of Open Source Software of the paper <strong>PDENLPModels.jl: A NLPModel API for optimization problems with PDE-constraints</strong>. It is accessible in open access <a href="https://joss.theoj.org/papers/10.21105/joss.04736">here</a>.</p> <p><a href="https://github.com/JuliaSmoothOptimizers/PDENLPModels.jl">PDENLPModels.jl</a> is a Julia package that specializes the <a href="https://github.com/JuliaSmoothOptimizers/NLPModels.jl">NLPModel API</a> for modeling and discretizing optimization problems with mixed algebraic and PDE in the constraints.</p> <p>We consider optimization problems of the form: find functions \(y, u\) and \(κ \in \mathbb{R}^n\) satisfying</p> \[ \begin{array}{lll} \underset{y, u, \theta}{\text{minimize}} \int_\Omega J(y, u, \theta)d\Omega \ \text{ subject to} & e(y, u, \theta) = 0, & \text{(governing PDE on $\Omega$)} \\ & l_{yu} \leq (y, u) \leq u_{yu}, & \text{(functional bound constraints)} \\ & l_{\theta} \leq \theta \leq u_{\theta}, & \text{(bound constraints)} \end{array} \] <p>The main challenges in modeling such a problem are to be able to discretize the domain and generate corresponding discretizations of the objective and constraints, and their evaluate derivatives with respect to all variables. We use <a href="https://github.com/gridap/Gridap.jl">Gridap.jl</a> to define the domain, meshes, function spaces, and finite-element families to approximate unknowns, and to model functionals and sets of PDEs in a weak form. PDENLPModels extends <a href="https://github.com/gridap/Gridap.jl">Gridap.jl</a>&#39;s differentiation facilities to also obtain derivatives useful for optimization, i.e., first and second derivatives of the objective and constraint functions with respect to controls and finite-dimensional variables.</p> <p>After discretization of the domain \(\Omega\), the integral, and the derivatives, the resulting problem is a nonlinear optimization problem. PDENLPModels exports the <code>GridapPDENLPModel</code> type, an instance of an <code>AbstractNLPModel</code>, as defined in <a href="https://github.com/JuliaSmoothOptimizers/NLPModels.jl">NLPModels.jl</a>, which provides access to objective and constraint function values, to their first and second derivatives, and to any information that a solver might request from a model. The role of <a href="https://github.com/JuliaSmoothOptimizers/NLPModels.jl">NLPModels.jl</a> is to define an API that users and solvers can rely on. It is the role of other packages to implement facilities that create models compliant with the NLPModels API. We refer to <a href="https://jso.dev">juliasmoothoptimizers.github.io</a> for tutorials on the NLPModel API.</p> <p>As such, PDENLPModels offers an interface between generic PDE-constrained optimization problems and cutting-edge optimization solvers such as Artelys Knitro via <a href="https://github.com/JuliaSmoothOptimizers/NLPModelsKnitro.jl">NLPModelsKnitro.jl</a>, Ipopt via <a href="https://github.com/JuliaSmoothOptimizers/NLPModelsIpopt.jl">NLPModelsIpopt.jl</a> , <a href="https://github.com/JuliaSmoothOptimizers/DCISolver.jl">DCISolver.jl</a>, <a href="https://github.com/JuliaSmoothOptimizers/Percival.jl">Percival.jl</a>, and any solver accepting an <code>AbstractNLPModel</code> as input, see <a href="https://jso.dev">JuliaSmoothOptimizers</a>.</p> <h2 id=example ><a href="#example" class=header-anchor >Example</a></h2> <p>The following example shows how to solve a Poisson control problem with Dirichlet boundary conditions using <a href="https://github.com/JuliaSmoothOptimizers/DCISolver.jl"><code>DCISolver.jl</code></a>: find functions \(y \in H^1_0\) and \(u \in H^1\) satisfying</p> \[ \begin{array}{lll} \underset{y, u}{\text{minimize}} \int_{(-1,1)^2} \frac{1}{2}\|y_d - y\|^2 +\frac{\alpha}{2}\|u\|^2 d\Omega \quad \text{subject to} & \Delta y - u - h = 0, & \text{on } \Omega.\\ & y = 0, & \text{on } \partial\Omega, \end{array} \] <p>for some given functions \(y_d:(-1,1)^2 \rightarrow \mathbb{R}\) and \(h:(-1,1)^2 \rightarrow \mathbb{R}\), and \(\alpha > 0\).</p> <pre><code class=language-julia >using DCISolver, Gridap, PDENLPModels

# Cartesian discretization of Ω&#61;&#40;-1,1&#41;² in 100² squares.
Ω &#61; &#40;-1, 1, -1, 1&#41;
model &#61; CartesianDiscreteModel&#40;Ω, &#40;100, 100&#41;&#41;
fe_y &#61; ReferenceFE&#40;lagrangian, Float64, 2&#41; # Finite-elements for the state
Xpde &#61; TestFESpace&#40;model, fe_y; dirichlet_tags &#61; &quot;boundary&quot;&#41;
Ypde &#61; TrialFESpace&#40;Xpde, x -&gt; 0.0&#41; # y is 0 over ∂Ω
fe_u &#61; ReferenceFE&#40;lagrangian, Float64, 1&#41; # Finite-elements for the control
Xcon &#61; TestFESpace&#40;model, fe_u&#41;
Ycon &#61; TrialFESpace&#40;Xcon&#41;
dΩ &#61; Measure&#40;Triangulation&#40;model&#41;, 1&#41; # Gridap&#39;s integration machinery

# Define the objective function f
yd&#40;x&#41; &#61; -x&#91;1&#93;^2
f&#40;y, u&#41; &#61; ∫&#40;0.5 * &#40;yd - y&#41; * &#40;yd - y&#41; &#43; 0.5 * 1e-2 * u * u&#41; * dΩ

# Define the constraint operator in weak form
h&#40;x&#41; &#61; -sin&#40;7π / 8 * x&#91;1&#93;&#41; * sin&#40;7π / 8 * x&#91;2&#93;&#41;
c&#40;y, u, v&#41; &#61; ∫&#40;∇&#40;v&#41; ⊙ ∇&#40;y&#41; - v * u - v * h&#41; * dΩ

# Define an initial guess for the discretized problem
x0 &#61; zeros&#40;num_free_dofs&#40;Ypde&#41; &#43; num_free_dofs&#40;Ycon&#41;&#41;

# Build a GridapPDENLPModel, which implements the NLPModel API.
name &#61; &quot;Control elastic membrane&quot;
nlp &#61; GridapPDENLPModel&#40;x0, f, dΩ, Ypde, Ycon, Xpde, Xcon, c, name &#61; name&#41;

dci&#40;nlp, verbose &#61; 1&#41; # solve the problem with DCI</code></pre> <h2 id=references ><a href="#references" class=header-anchor >References</a></h2> <blockquote> <p>Migot, T., Orban D., &amp; Siqueira A. S. PDENLPModels.jl: A NLPModel API for optimization problems with PDE-constraints Journal of Open Source Software 7&#40;80&#41;, 4736 &#40;2022&#41;. <a href="https://doi.org/10.21105/joss.04736">10.21105/joss.04736</a></p> </blockquote> </div> </div> </div> </div> </section> <script src="/previews/PR203/libs/katex/katex.min.js"></script> <script src="/previews/PR203/libs/katex/auto-render.min.js"></script> <script>renderMathInElement(document.body)</script> <script>hljs.initHighlightingOnLoad(); hljs.configure({ tabReplace: ' ' });</script> <script> (function () { // Get the elements. // - the 'pre' element. // - the 'div' with the 'paste-content' id. var pre = document.getElementsByTagName('pre'); // Add a copy button in the 'pre' element with className language-julia for (var i = 0; i < pre.length; i++) { var isLanguage = pre[i].children[0].className.indexOf('language-julia'); if (isLanguage === 0) { var ion_icon = document.createElement('ion-icon'); ion_icon.name = 'copy'; var icon = document.createElement('span'); icon.className = 'icon has-text-primary'; icon.appendChild(ion_icon); var button = document.createElement('button'); button.className = 'button copy-button is-light is-primary'; button.appendChild(icon); pre[i].appendChild(button); } }; // Run Clipboard var copyCode = new ClipboardJS('.copy-button', { target: function (trigger) { return trigger.previousElementSibling; } }); copyCode.on('success', function (event) { event.clearSelection(); var btn = event.trigger; var old_button_class = btn.className; var old_icon_class = btn.children[0].className; btn.className = 'button copy-button is-primary'; btn.children[0].className = 'icon has-text-white'; window.setTimeout(function () { event.trigger.className = old_button_class; event.trigger.children[0].className = old_icon_class; }, 1000); }); })(); </script> <footer class=footer > <div class="content has-text-centered is-small"> &copy; Abel Soares Siqueira. <br> <a class=link  href="https://github.com/JuliaSmoothOptimizers/">JSO at GitHub</a> </div> </footer>